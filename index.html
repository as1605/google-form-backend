<html>
  <head>
    <title>
      Blog
    </title>
  </head>
  <body>
    <a href="index.html">Home</a>
    <a href="new.html">New Entry</a>
    <br>
    <div id="content"></div>
    <script>
      const sheet_id = "1Gtw2Wobu_KaE8uJPu5wLC0uTo6kaUPFj-BmZMCPQq0I";
      const response = await fetch(`https://docs.google.com/spreadsheets/d/${sheet_id}/export?format=tsv`);
      const txt = await response.text();
      const sheet = txt.split("\r\n").map(r => r.split('\t'));
      
      let html = "";
      for (let i = 1; i<sheet.length; i++) {
        html += `
        <div>
          <h3>${sheet[i][1]}</h3>
          <small>${sheet[i][0]}</small>
          <p>${sheet[i][2]}</p>
        </div><br>
        `;
      }
      document.querySelector("div#content").innerHTML = html;
    </script>
  </body>
</html>
